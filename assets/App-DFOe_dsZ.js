import{u as C,r as o,a as g,j as t,T as _}from"./index-OptuiEFi.js";import{M as m,a as w}from"./MenuButton-G5JOkzV9.js";const x="_appContainer_186wz_1",f="_startButton_186wz_7",j="_accessCodeLabel_186wz_19",B="_accessCodeInput_186wz_24",b="_startMeetingButton_186wz_32",M="_widgetContainer_186wz_46",s={appContainer:x,startButton:f,accessCodeLabel:j,accessCodeInput:B,startMeetingButton:b,widgetContainer:M},N=()=>{C();const a=o.useRef(null),n=o.useRef(null),i=g(e=>e.credentials),u=e=>{var r;e.preventDefault();const c=e.target.accessCode.value;if(console.log("render meeting widget"),!c){console.log("Access code not set, widget will not be rendered.");return}(r=n.current)==null||r.unload();const{domain:d,token:l,hostId:p}=i;n.current=new w({domain:d,sso:{token:l,hostId:p},container:a.current},c,{skipJoin:!0})};return o.useEffect(()=>()=>{var e;(e=n.current)==null||e.unload()},[]),t.jsxs("div",{className:s.appContainer,children:[t.jsxs("form",{onSubmit:u,className:s.startButton,children:[t.jsx("div",{className:s.accessCodeLabel,children:"Access Code:"}),t.jsx("input",{type:"text",name:"accessCode",required:!0,autoFocus:!0,className:s.accessCodeInput}),t.jsx("button",{type:"submit",className:s.startMeetingButton,children:"Start Meeting"})]}),t.jsx(_,{position:"right"}),t.jsx(m,{position:"right"}),t.jsx("div",{ref:a,className:s.widgetContainer})]})};export{N as default};
