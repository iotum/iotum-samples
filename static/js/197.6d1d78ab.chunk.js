"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[197],{1374:function(n,e,t){t.d(e,{Z:function(){return c}});t(2791);var o=t(7689),r="MenuButton_menuButton__e9oFw",i="MenuButton_left__d8Tih",u="MenuButton_right__fbjxn",a=t(184);var c=function(n){var e=n.position,t=void 0===e?"left":e,c=(0,o.s0)(),s="right"===t?u:i;return(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:"".concat(r," ").concat(s),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),c("/iotum-samples/menu")},children:"Menu Page"})})}},4197:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var o=t(9439),r=t(2791),i="submitForm_appContainer__B1dgt",u="submitForm_verticalTabContainer__riwi2",a="submitForm_widgetContainer__Vm7kt",c="submitForm_badge__llHLA",s=t(5177),l=t(1374),d=t(9074),h=t(9434),f=t(1348),m=t(184),g=function(){(0,f.Z)();var n=(0,r.useState)(!0),e=(0,o.Z)(n,2),t=e[0],g=e[1],b=(0,r.useState)(0),_=(0,o.Z)(b,2),v=_[0],p=_[1],j=(0,r.useState)(!1),k=(0,o.Z)(j,2),x=k[0],C=k[1],w=(0,r.useState)(!1),T=(0,o.Z)(w,2),A=T[0],E=T[1],S=(0,r.useRef)(null),Z=(0,r.useRef)(null),D=(0,r.useRef)(null),M=(0,h.v9)((function(n){return n.credentials})),N=M.token&&M.domain&&M.hostId,B=function(){D.current&&D.current.toggle(!1),Z.current&&Z.current.toggle(!1)},R=(0,r.useCallback)((function(){N&&(D.current=new d.Dashboard({domain:M.domain,sso:{token:M.token,hostId:M.hostId},container:S.current}),D.current.toggle(!1),D.current.on("dashboard.READY",(function(){Z.current=new d.Dashboard({domain:M.domain,container:S.current},d.Service.Team),Z.current.toggle(!1),Z.current.on("dashboard.UNREAD_MESSAGES",(function(n){var e=Object.values(n.rooms).reduce((function(n,e){return n+e}),0);p(e)})),Z.current.on("dashboard.READY",(function(){E(!0),C(!0)}))})))}),[M,N]);(0,r.useEffect)((function(){return N&&R(),function(){B(),console.log("Widget unloaded")}}),[M,R,N]),(0,r.useEffect)((function(){x&&Z.current.on("dashboard.NAVIGATE",(function(n){var e="/"!==n.pathname?n.pathname:"an unspecified room";console.log("The chat widget navigated to this room: ".concat(e))}))}),[x]);var F=function(n){B(),""===n?(g(!0),console.log("Load your app")):"Team"===n?(Z.current.toggle(!0),g(!1),console.log("Load the team chat widget")):(D.current.toggle(!0),D.current.load(n),g(!1),console.log("Load the ".concat(n," widget")))};return(0,m.jsxs)("div",{className:i,children:[(0,m.jsxs)("div",{className:u,children:[(0,m.jsx)("button",{onClick:function(){return F("")},disabled:!A,children:"Your App"}),(0,m.jsxs)("button",{onClick:function(){return F("Team")},disabled:!A,style:{position:"relative"},children:["Team Chat",v>0&&(0,m.jsx)("span",{className:c,children:v})]}),(0,m.jsx)("button",{onClick:function(){return F("Drive")},disabled:!A,children:"Drive"}),(0,m.jsx)("button",{onClick:function(){return F("Contacts")},disabled:!A,children:"Contacts"})]}),t&&(0,m.jsx)("div",{children:"Your app goes here"}),!A&&(0,m.jsx)("div",{children:"The widgets are loading"}),(0,m.jsx)("div",{ref:S,className:a}),(0,m.jsx)(s.Z,{position:"right"}),(0,m.jsx)(l.Z,{position:"right"})]})}}}]);
//# sourceMappingURL=197.6d1d78ab.chunk.js.map