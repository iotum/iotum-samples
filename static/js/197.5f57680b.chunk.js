"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[197],{1374:function(n,e,t){t.d(e,{Z:function(){return c}});t(2791);var o=t(7689),r="MenuButton_menuButton__e9oFw",u="MenuButton_left__d8Tih",i="MenuButton_right__fbjxn",a=t(184);var c=function(n){var e=n.position,t=void 0===e?"left":e,c=(0,o.s0)(),s="right"===t?i:u;return(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:"".concat(r," ").concat(s),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),c("/iotum-samples/menu")},children:"Menu Page"})})}},4197:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var o=t(9439),r=t(2791),u="submitForm_appContainer__B1dgt",i="submitForm_verticalTabContainer__riwi2",a="submitForm_widgetContainer__Vm7kt",c="submitForm_badge__llHLA",s=t(5177),l=t(1374),d=t(9074),h=t(9434),f=t(1348),m=t(184),g=function(){(0,f.Z)();var n=(0,r.useState)(!0),e=(0,o.Z)(n,2),t=e[0],g=e[1],b=(0,r.useState)(0),_=(0,o.Z)(b,2),p=_[0],v=_[1],j=(0,r.useState)(!1),k=(0,o.Z)(j,2),x=k[0],C=k[1],w=(0,r.useState)(!1),T=(0,o.Z)(w,2),A=T[0],E=T[1],Z=(0,r.useRef)(null),D=(0,r.useRef)(null),M=(0,r.useRef)(null),N=(0,h.v9)((function(n){return n.credentials})),S=N.token&&N.domain&&N.hostId,B=function(){M.current&&M.current.toggle(!1),D.current&&D.current.toggle(!1)},R=(0,r.useCallback)((function(){S&&(M.current=new d.Dashboard({domain:N.domain,sso:{token:N.token,hostId:N.hostId},container:Z.current}),M.current.toggle(!1),M.current.on("dashboard.READY",(function(){D.current=new d.Dashboard({domain:N.domain,container:Z.current},"Team"),D.current.toggle(!1),D.current.on("dashboard.UNREAD_MESSAGES",(function(n){var e=Object.values(n.rooms).reduce((function(n,e){return n+e}),0);v(e)})),D.current.on("dashboard.READY",(function(){E(!0),C(!0)}))})))}),[N,S]);(0,r.useEffect)((function(){return S&&R(),function(){B(),console.log("Widget unloaded")}}),[N,R,S]),(0,r.useEffect)((function(){x&&D.current.on("dashboard.NAVIGATE",(function(n){var e="/"!==n.pathname?n.pathname:"an unspecified room";console.log("The chat widget navigated to this room: ".concat(e))}))}),[x]);var F=function(n){B(),""===n?(g(!0),console.log("Load your app")):"Team"===n?(D.current.toggle(!0),g(!1),console.log("Load the team chat widget")):(M.current.toggle(!0),M.current.load(n),g(!1),console.log("Load the ".concat(n," widget")))};return(0,m.jsxs)("div",{className:u,children:[(0,m.jsxs)("div",{className:i,children:[(0,m.jsx)("button",{onClick:function(){return F("")},disabled:!A,children:"Your App"}),(0,m.jsxs)("button",{onClick:function(){return F("Team")},disabled:!A,style:{position:"relative"},children:["Team Chat",p>0&&(0,m.jsx)("span",{className:c,children:p})]}),(0,m.jsx)("button",{onClick:function(){return F("Drive")},disabled:!A,children:"Drive"}),(0,m.jsx)("button",{onClick:function(){return F("Contacts")},disabled:!A,children:"Contacts"})]}),t&&(0,m.jsx)("div",{children:"Your app goes here"}),!A&&(0,m.jsx)("div",{children:"The widgets are loading"}),(0,m.jsx)("div",{ref:Z,className:a}),(0,m.jsx)(s.Z,{position:"right"}),(0,m.jsx)(l.Z,{position:"right"})]})}}}]);
//# sourceMappingURL=197.5f57680b.chunk.js.map