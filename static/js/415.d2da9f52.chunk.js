"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[415],{1374:function(e,t,n){n.d(t,{Z:function(){return s}});n(2791);var i=n(7689),o="MenuButton_menuButton__e9oFw",c="MenuButton_left__d8Tih",u="MenuButton_right__fbjxn",a=n(184);var s=function(e){var t=e.position,n=void 0===t?"left":t,s=(0,i.s0)(),r="right"===n?u:c;return(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:"".concat(o," ").concat(r),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),s("/iotum-samples/menu")},children:"Menu Page"})})}},2415:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var i=n(1413),o=n(9439),c=n(2791),u="submitForm_form__flsJs",a="submitForm_appContainer__y2gcQ",s="submitForm_accessCodeInput__KLpEG",r="submitForm_startMeetingButton__Tsr3j",d="submitForm_widgetContainer__k+945",l="submitForm_devices__YzHDj",m=n(5177),p=n(1374),h=n(9074),v=n(9434),f=n(1348),j=n(184),C=function(){(0,f.Z)();var e=(0,c.useState)((function(){})),t=(0,o.Z)(e,2),n=t[0],C=t[1],b=(0,c.useState)((function(){})),_=(0,o.Z)(b,2),x=_[0],g=_[1],k=(0,c.useRef)(),M=(0,v.v9)((function(e){return e.credentials})),E=function(e){var t=e.target;switch(t.id){case"videoinput":k.current.setVideoInput(t.value);break;case"audioinput":k.current.setAudioInput(t.value);break;case"audiooutput":k.current.setAudioOutput(t.value);break;default:console.error("invalid",t.id)}};return(0,c.useEffect)((function(){return function(){var e;null===(e=k.current)||void 0===e||e.unload()}}),[]),(0,j.jsxs)("div",{className:a,children:[(0,j.jsxs)("form",{className:u,onSubmit:function(e){var t;e.preventDefault();var n=e.target.accessCode.value;n?(null===(t=k.current)||void 0===t||t.unload(),k.current=function(e){var t=e.domain,n=e.token,i=e.hostId,o=e.accessCode,c=e.muteMic,u=e.muteCam,a=new h.Meeting({domain:t,sso:{token:n,hostId:i},container:"#meeting"},o,{skipJoin:!0,mute:{mic:c,camera:u}});return document.querySelector("#start").disabled=!0,a.on("room.READY",(function(){document.querySelector("#start").disabled=!1})),a.on("device.DEVICE_LIST_CHANGED",(function(e){["audioinput","audiooutput","videoinput"].forEach((function(t){var n=document.querySelector("select#".concat(t));n.replaceChildren(n.firstChild),e[t].forEach((function(e){var t=e.label,i=e.deviceId;n.appendChild(Object.assign(document.createElement("option"),{textContent:t,value:i}))}))}))})),a.on("device.DEVICE_IN_USE",(function(e){var t=e.kind,n=e.deviceId;document.querySelector("select#".concat(t)).value=n})),a}((0,i.Z)((0,i.Z)({},M),{},{accessCode:n,muteMic:!e.target.joinMic.checked,muteCam:!e.target.joinCam.checked})),k.current.on("participant.CHANGE",(function(e){var t=e.isCameraOn,n=e.isMuted;C(t),g(n)}))):console.log("Access code not set, widget will not be rendered.")},children:[(0,j.jsxs)("label",{children:[(0,j.jsx)("span",{children:"Access Code:"}),(0,j.jsx)("input",{name:"accessCode",type:"text",required:!0,autoFocus:!0,className:s})]}),(0,j.jsxs)("label",{title:"join with microphone on",children:[(0,j.jsx)("input",{name:"joinMic",type:"checkbox",defaultChecked:!0}),(0,j.jsx)("span",{children:"mic"})]}),(0,j.jsxs)("label",{title:"join with camera on",children:[(0,j.jsx)("input",{name:"joinCam",type:"checkbox",defaultChecked:!0}),(0,j.jsx)("span",{children:"cam"})]}),(0,j.jsx)("button",{id:"start",type:"submit",className:r,children:"Start Meeting"})]}),(0,j.jsx)(m.Z,{position:"right"}),(0,j.jsx)(p.Z,{position:"right"}),(0,j.jsxs)("div",{className:l,children:[(0,j.jsx)("select",{id:"audioinput",onChange:E,children:(0,j.jsx)("option",{disabled:!0,value:"",children:"audio input ..."})}),(0,j.jsx)("select",{id:"audiooutput",onChange:E,children:(0,j.jsx)("option",{disabled:!0,value:"",children:"audio output ..."})}),(0,j.jsx)("select",{id:"videoinput",onChange:E,children:(0,j.jsx)("option",{disabled:!0,value:"",children:"video input ..."})}),void 0!==x&&(0,j.jsxs)("button",{id:"toggleMic",type:"button",onClick:function(){k.current.setMute(!x)},children:[x?"UNMUTE":"MUTE"," mic"]}),void 0!==n&&(0,j.jsxs)("button",{id:"toggleCam",type:"button",onClick:function(){k.current.setCamera(!n)},children:[n?"STOP":"START"," cam"]})]}),(0,j.jsx)("div",{id:"meeting",className:d})]})}}}]);
//# sourceMappingURL=415.d2da9f52.chunk.js.map