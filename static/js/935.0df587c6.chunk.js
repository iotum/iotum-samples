"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[935],{1374:function(n,e,t){t.d(e,{Z:function(){return c}});t(2791);var o=t(7689),i="MenuButton_menuButton__e9oFw",a="MenuButton_left__d8Tih",s="MenuButton_right__fbjxn",r=t(184);var c=function(n){var e=n.position,t=void 0===e?"left":e,c=(0,o.s0)(),u="right"===t?s:a;return(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"".concat(i," ").concat(u),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),c("/menu")},children:"Menu Page"})})}},6935:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var o=t(9439),i=t(2791),a="submitForm_chatContainer__Xcj9R",s="submitForm_badge__coYDH",r="submitForm_biggerButton__hfy-z",c=t(5177),u=t(1374),d=t(9074),l=t(9434),h=t(184),g=function(){var n=(0,i.useState)(0),e=(0,o.Z)(n,2),t=e[0],g=e[1],m=(0,i.useState)(!0),f=(0,o.Z)(m,2),v=f[0],b=f[1],_=(0,i.useRef)(null),w=(0,l.v9)((function(n){return n.credentials}));console.log("Credentials:",w);var C=(0,i.useCallback)((function(){console.log("renderChatWidget called"),_.current&&_.current.instance?_.current.instance&&(console.log("Change focus to the existing widget that's open in a new window"),_.current.instance.focus()):(console.log("Create a new widget because the window was closed/there never was a widget"),_.current=new d.Dashboard({domain:w.domain,sso:{token:w.token,hostId:w.hostId},container:window,target:{name:"CallbridgeChatWidget",checkExisting:!0}},"Team"),_.current.on("dashboard.NAVIGATE",(function(n){console.log("navigate event")})))}),[w]);return(0,i.useEffect)((function(){console.log("Setting up invisibleWidget for unread messages");var n=document.createElement("div");n.style.display="none",document.body.appendChild(n);var e=new d.Dashboard({domain:w.domain,sso:{token:w.token,hostId:w.hostId},container:n,target:{name:"InvisibleWidget",checkExisting:!0}},"Team");return e.on("dashboard.UNREAD_MESSAGES",(function(n){var e=Object.values(n.rooms).reduce((function(n,e){return n+e}),0);g(e),b(!1)})),function(){var n;null===(n=_.current)||void 0===n||n.unload(),null===e||void 0===e||e.unload()}}),[w]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.Z,{position:"right"}),(0,h.jsx)(u.Z,{position:"right"}),(0,h.jsx)("div",{className:a,children:v?(0,h.jsx)("div",{children:"Loading unread messages..."}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:r,onClick:C,children:"Chat"}),(0,h.jsx)("span",{className:s,children:t})]})})]})}}}]);
//# sourceMappingURL=935.0df587c6.chunk.js.map