"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[415],{1374:function(e,t,n){n.d(t,{Z:function(){return s}});n(2791);var i=n(7689),o="MenuButton_menuButton__e9oFw",c="MenuButton_left__d8Tih",u="MenuButton_right__fbjxn",a=n(184);var s=function(e){var t=e.position,n=void 0===t?"left":t,s=(0,i.s0)(),r="right"===n?u:c;return(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:"".concat(o," ").concat(r),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),s("/iotum-samples/menu")},children:"Menu Page"})})}},2415:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var i=n(1413),o=n(9439),c=n(2791),u="submitForm_appContainer__y2gcQ",a="submitForm_accessCodeInput__KLpEG",s="submitForm_startMeetingButton__Tsr3j",r="submitForm_widgetContainer__k+945",d="submitForm_devices__YzHDj",l=n(5177),m=n(1374),p=n(9074),h=n(9434),v=n(1348),f=n(184),j=function(){(0,v.Z)();var e=(0,c.useState)((function(){})),t=(0,o.Z)(e,2),n=t[0],j=t[1],C=(0,c.useState)((function(){})),b=(0,o.Z)(C,2),x=b[0],_=b[1],g=(0,c.useRef)(),k=(0,h.v9)((function(e){return e.credentials})),M=function(e){var t=e.target;switch(t.id){case"videoinput":g.current.setVideoInput(t.value);break;case"audioinput":g.current.setAudioInput(t.value);break;case"audiooutput":g.current.setAudioOutput(t.value);break;default:console.error("invalid",t.id)}};return(0,c.useEffect)((function(){return function(){var e;null===(e=g.current)||void 0===e||e.unload()}}),[]),(0,f.jsxs)("div",{className:u,children:[(0,f.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault();var n=e.target.accessCode.value;n?(null===(t=g.current)||void 0===t||t.unload(),g.current=function(e){var t=e.domain,n=e.token,i=e.hostId,o=e.accessCode,c=e.muteMic,u=e.muteCam,a=new p.Meeting({domain:t,sso:{token:n,hostId:i},container:"#meeting"},o,{skipJoin:!0,mute:{mic:c,camera:u}});return document.querySelector("#start").disabled=!0,a.on("room.READY",(function(){document.querySelector("#start").disabled=!1})),a.on("device.DEVICE_LIST_CHANGED",(function(e){["audioinput","audiooutput","videoinput"].forEach((function(t){var n=document.querySelector("select#".concat(t));n.replaceChildren(n.firstChild),e[t].forEach((function(e){var t=e.label,i=e.deviceId;n.appendChild(Object.assign(document.createElement("option"),{textContent:t,value:i}))}))}))})),a.on("device.DEVICE_IN_USE",(function(e){var t=e.kind,n=e.deviceId;document.querySelector("select#".concat(t)).value=n})),a}((0,i.Z)((0,i.Z)({},k),{},{accessCode:n,muteMic:!e.target.joinMic.checked,muteCam:!e.target.joinCam.checked})),g.current.on("participant.CHANGE",(function(e){var t=e.isCameraOn,n=e.isMuted;j(t),_(n)}))):console.log("Access code not set, widget will not be rendered.")},children:[(0,f.jsxs)("label",{children:[(0,f.jsx)("span",{children:"Access Code:"}),(0,f.jsx)("input",{name:"accessCode",type:"text",required:!0,autoFocus:!0,className:a})]}),(0,f.jsxs)("label",{title:"join with microphone on",children:[(0,f.jsx)("input",{name:"joinMic",type:"checkbox",defaultChecked:!0}),(0,f.jsx)("span",{children:"mic"})]}),(0,f.jsxs)("label",{title:"join with camera on",children:[(0,f.jsx)("input",{name:"joinCam",type:"checkbox",defaultChecked:!0}),(0,f.jsx)("span",{children:"cam"})]}),(0,f.jsx)("button",{id:"start",type:"submit",className:s,children:"Start Meeting"})]}),(0,f.jsx)(l.Z,{position:"right"}),(0,f.jsx)(m.Z,{position:"right"}),(0,f.jsxs)("div",{className:d,children:[(0,f.jsx)("select",{id:"audioinput",onChange:M,children:(0,f.jsx)("option",{disabled:!0,value:"",children:"audio input ..."})}),(0,f.jsx)("select",{id:"audiooutput",onChange:M,children:(0,f.jsx)("option",{disabled:!0,value:"",children:"audio output ..."})}),(0,f.jsx)("select",{id:"videoinput",onChange:M,children:(0,f.jsx)("option",{disabled:!0,value:"",children:"video input ..."})}),void 0!==x&&(0,f.jsxs)("button",{id:"toggleMic",type:"button",onClick:function(){g.current.setMute(!x)},children:[x?"UNMUTE":"MUTE"," mic"]}),void 0!==n&&(0,f.jsxs)("button",{id:"toggleCam",type:"button",onClick:function(){g.current.setCamera(!n)},children:[n?"START":"STOP"," cam"]})]}),(0,f.jsx)("div",{id:"meeting",className:r})]})}}}]);
//# sourceMappingURL=415.4a376796.chunk.js.map