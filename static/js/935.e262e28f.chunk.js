"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[935],{1374:function(n,e,t){t.d(e,{Z:function(){return u}});t(2791);var o=t(7689),i="MenuButton_menuButton__e9oFw",a="MenuButton_left__d8Tih",s="MenuButton_right__fbjxn",r=t(184);var u=function(n){var e=n.position,t=void 0===e?"left":e,u=(0,o.s0)(),c="right"===t?s:a;return(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"".concat(i," ").concat(c),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),u("/iotum-samples/menu")},children:"Menu Page"})})}},6935:function(n,e,t){t.r(e),t.d(e,{default:function(){return f}});var o=t(9439),i=t(2791),a="submitForm_chatContainer__Xcj9R",s="submitForm_badge__coYDH",r="submitForm_biggerButton__hfy-z",u=t(5177),c=t(1374),d=t(9074),l=t(9434),m=t(1348),h=t(184),f=function(){(0,m.Z)();var n=(0,i.useState)(0),e=(0,o.Z)(n,2),t=e[0],f=e[1],g=(0,i.useState)(!0),v=(0,o.Z)(g,2),_=v[0],b=v[1],k=(0,i.useRef)(null),j=(0,l.v9)((function(n){return n.credentials})),p=j.token&&j.domain&&j.hostId,x=(0,i.useCallback)((function(){p&&(k.current&&k.current.instance?k.current.instance&&k.current.instance.focus():(k.current=new d.Dashboard({domain:j.domain,sso:{token:j.token,hostId:j.hostId},container:window,target:{name:"CallbridgeChatWidget",checkExisting:!0}},"Team"),k.current.on("dashboard.NAVIGATE",(function(n){console.log("navigate event")}))))}),[j,p]);return(0,i.useEffect)((function(){if(p){var n=document.createElement("div");n.style.display="none",document.body.appendChild(n);var e=new d.Dashboard({domain:j.domain,sso:{token:j.token,hostId:j.hostId},container:n,target:{name:"InvisibleWidget",checkExisting:!0}},"Team");return e.on("dashboard.UNREAD_MESSAGES",(function(n){var e=Object.values(n.rooms).reduce((function(n,e){return n+e}),0);f(e),b(!1)})),function(){var n;null===(n=k.current)||void 0===n||n.unload(),null===e||void 0===e||e.unload()}}}),[j,p]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{position:"right"}),(0,h.jsx)(c.Z,{position:"right"}),(0,h.jsx)("div",{className:a,children:_?(0,h.jsx)("div",{children:"Loading unread messages..."}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:r,onClick:x,children:"Chat"}),(0,h.jsx)("span",{className:s,children:t})]})})]})}}}]);
//# sourceMappingURL=935.e262e28f.chunk.js.map