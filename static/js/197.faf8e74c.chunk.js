"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[197],{1374:function(n,e,t){t.d(e,{Z:function(){return c}});t(2791);var o=t(7689),r="MenuButton_menuButton__e9oFw",u="MenuButton_left__d8Tih",i="MenuButton_right__fbjxn",a=t(184);var c=function(n){var e=n.position,t=void 0===e?"left":e,c=(0,o.s0)(),s="right"===t?i:u;return(0,a.jsx)("div",{children:(0,a.jsx)("button",{className:"".concat(r," ").concat(s),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),c("/iotum-samples/menu")},children:"Menu Page"})})}},4197:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var o=t(9439),r=t(2791),u="submitForm_appContainer__B1dgt",i="submitForm_verticalTabContainer__riwi2",a="submitForm_widgetContainer__Vm7kt",c="submitForm_badge__llHLA",s=t(5177),l=t(1374),d=t(9074),h=t(9434),f=t(184),g=function(){var n=(0,r.useState)(!0),e=(0,o.Z)(n,2),t=e[0],g=e[1],m=(0,r.useState)(0),b=(0,o.Z)(m,2),_=b[0],p=b[1],v=(0,r.useState)(!1),j=(0,o.Z)(v,2),k=j[0],x=j[1],C=(0,r.useState)(!1),w=(0,o.Z)(C,2),T=w[0],A=w[1],E=(0,r.useRef)(null),D=(0,r.useRef)(null),M=(0,r.useRef)(null),N=(0,h.v9)((function(n){return n.credentials})),S=function(){M.current&&M.current.toggle(!1),D.current&&D.current.toggle(!1)},Z=(0,r.useCallback)((function(){M.current=new d.Dashboard({domain:N.domain,sso:{token:N.token,hostId:N.hostId},container:E.current}),M.current.toggle(!1),M.current.on("dashboard.READY",(function(){D.current=new d.Dashboard({domain:"iotum.callbridge.rocks",container:E.current},"Team"),D.current.toggle(!1),D.current.on("dashboard.UNREAD_MESSAGES",(function(n){var e=Object.values(n.rooms).reduce((function(n,e){return n+e}),0);p(e)})),D.current.on("dashboard.READY",(function(){A(!0),x(!0)}))}))}),[N]);(0,r.useEffect)((function(){k&&D.current.on("dashboard.NAVIGATE",(function(n){var e="/"!==n.pathname?n.pathname:"an unspecified room";console.log("The chat widget navigated to this room: ".concat(e))}))}),[k]),(0,r.useEffect)((function(){return Z(),function(){S(),console.log("Widget unloaded")}}),[N,Z]);var B=function(n){S(),""===n?(g(!0),console.log("Load your app")):"Team"===n?(D.current.toggle(!0),g(!1),console.log("Load the team chat widget")):(M.current.toggle(!0),M.current.load(n),g(!1),console.log("Load the "+n+" widget"))};return(0,f.jsxs)("div",{className:u,children:[(0,f.jsxs)("div",{className:i,children:[(0,f.jsx)("button",{onClick:function(){return B("")},disabled:!T,children:"Your App"}),(0,f.jsxs)("button",{onClick:function(){return B("Team")},disabled:!T,style:{position:"relative"},children:["Team Chat",_>0&&(0,f.jsx)("span",{className:c,children:_})]}),(0,f.jsx)("button",{onClick:function(){return B("Drive")},disabled:!T,children:"Drive"}),(0,f.jsx)("button",{onClick:function(){return B("Contacts")},disabled:!T,children:"Contacts"})]}),t&&(0,f.jsx)("div",{children:"Your app goes here"}),!T&&(0,f.jsx)("div",{children:"The widgets are loading"}),(0,f.jsx)("div",{ref:E,className:a}),(0,f.jsx)(s.Z,{position:"right"}),(0,f.jsx)(l.Z,{position:"right"})]})}}}]);
//# sourceMappingURL=197.faf8e74c.chunk.js.map