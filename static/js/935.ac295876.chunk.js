"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[935],{1374:function(n,e,t){t.d(e,{Z:function(){return s}});t(2791);var o=t(7689),i="MenuButton_menuButton__e9oFw",r="MenuButton_left__d8Tih",a="MenuButton_right__fbjxn",u=t(184);var s=function(n){var e=n.position,t=void 0===e?"left":e,s=(0,o.s0)(),c="right"===t?a:r;return(0,u.jsx)("div",{children:(0,u.jsx)("button",{className:"".concat(i," ").concat(c),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),s("/iotum-samples/menu")},children:"Menu Page"})})}},6935:function(n,e,t){t.r(e),t.d(e,{default:function(){return f}});var o=t(9439),i=t(2791),r="submitForm_chatContainer__Xcj9R",a="submitForm_badge__coYDH",u="submitForm_biggerButton__hfy-z",s=t(5177),c=t(1374),d=t(9074),l=t(9434),h=t(1348),m=t(184),f=function(){(0,h.Z)();var n=(0,i.useState)(0),e=(0,o.Z)(n,2),t=e[0],f=e[1],v=(0,i.useState)(!0),g=(0,o.Z)(v,2),b=g[0],_=g[1],j=(0,i.useRef)(null),k=(0,l.v9)((function(n){return n.credentials})),p=k.token&&k.domain&&k.hostId;return(0,i.useEffect)((function(){if(p){var n=document.createElement("div"),e=k.domain,t=k.token,o=k.hostId,i=new d.Dashboard({domain:e,sso:{token:t,hostId:o},container:n},d.Service.Team);return i.on("dashboard.UNREAD_MESSAGES",(function(n){var e=Object.values(n.rooms).reduce((function(n,e){return n+e}),0);f(e),_(!1)})),function(){var n;null===(n=j.current)||void 0===n||n.unload(),null===i||void 0===i||i.unload()}}}),[p,k]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.Z,{position:"right"}),(0,m.jsx)(c.Z,{position:"right"}),(0,m.jsx)("div",{className:r,children:b?(0,m.jsx)("div",{children:"Loading unread messages..."}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{type:"button",className:u,onClick:function(n){n.preventDefault();var e=n.currentTarget;e.disabled=!0;var t=setTimeout((function(){return e.disabled=!1}),2e3);!function(n){var e;if(p)if(null!==(e=j.current)&&void 0!==e&&e.instance)j.current.instance.focus(),n();else{var t=k.domain,o=k.token,i=k.hostId;j.current=new d.Dashboard({domain:t,sso:{token:o,hostId:i},container:window,target:{name:"CallbridgeChatWidget",features:"width=800,height=600",checkExisting:!0}},d.Service.Team),j.current.on("dashboard.READY",n),j.current.on("dashboard.NAVIGATE",(function(n){console.log("navigate event")}))}}((function(){clearTimeout(t),e.disabled=!1}))},children:"Chat"}),(0,m.jsx)("span",{className:a,children:t})]})})]})}}}]);
//# sourceMappingURL=935.ac295876.chunk.js.map