"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[935],{1374:function(e,n,t){t.d(n,{Z:function(){return c}});t(2791);var o=t(7689),i="MenuButton_menuButton__e9oFw",a="MenuButton_left__d8Tih",s="MenuButton_right__fbjxn",r=t(184);var c=function(e){var n=e.position,t=void 0===n?"left":n,c=(0,o.s0)(),u="right"===t?s:a;return(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"".concat(i," ").concat(u),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),c("/iotum-samples/menu")},children:"Menu Page"})})}},6935:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var o=t(9439),i=t(2791),a="submitForm_chatContainer__Xcj9R",s="submitForm_badge__coYDH",r="submitForm_biggerButton__hfy-z",c=t(5177),u=t(1374),d=t(9074),l=t(9434),h=t(184),g=function(){var e=(0,i.useState)(0),n=(0,o.Z)(e,2),t=n[0],g=n[1],m=(0,i.useState)(!0),f=(0,o.Z)(m,2),v=f[0],b=f[1],_=(0,i.useRef)(null),w=(0,l.v9)((function(e){return e.credentials}));console.log("Credentials:",w);var p=(0,i.useCallback)((function(){console.log("renderChatWidget called"),_.current&&_.current.instance?_.current.instance&&(console.log("Change focus to the existing widget that's open in a new window"),_.current.instance.focus()):(console.log("Create a new widget because the window was closed/there never was a widget"),_.current=new d.Dashboard({domain:w.domain,sso:{token:w.token,hostId:w.hostId},container:window,target:{name:"CallbridgeChatWidget",checkExisting:!0}},"Team"),_.current.on("dashboard.NAVIGATE",(function(e){console.log("navigate event")})))}),[w]);return(0,i.useEffect)((function(){console.log("Setting up invisibleWidget for unread messages");var e=document.createElement("div");e.style.display="none",document.body.appendChild(e);var n=new d.Dashboard({domain:w.domain,sso:{token:w.token,hostId:w.hostId},container:e,target:{name:"InvisibleWidget",checkExisting:!0}},"Team");return n.on("dashboard.UNREAD_MESSAGES",(function(e){var n=Object.values(e.rooms).reduce((function(e,n){return e+n}),0);g(n),b(!1)})),function(){var e;null===(e=_.current)||void 0===e||e.unload(),null===n||void 0===n||n.unload()}}),[w]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.Z,{position:"right"}),(0,h.jsx)(u.Z,{position:"right"}),(0,h.jsx)("div",{className:a,children:v?(0,h.jsx)("div",{children:"Loading unread messages..."}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("button",{className:r,onClick:p,children:"Chat"}),(0,h.jsx)("span",{className:s,children:t})]})})]})}}}]);
//# sourceMappingURL=935.cee7ffa5.chunk.js.map