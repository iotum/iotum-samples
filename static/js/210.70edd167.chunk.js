"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[210],{1891:function(n,t,o){var e=o(2791),a=o(9434),c=o(9074),i=o(27),r=o(184);t.Z=function(n){var t=(0,e.useRef)(null),o=(0,a.v9)((function(n){return n.credentials}));return(0,e.useEffect)((function(){var e=o.domain||"iotum.callbridge.rocks",a=new c.Dashboard({domain:e,container:t.current},"Team",{layout:"main",pathname:n.path});return console.log("A new chat room was opened: "+n.path),function(){a.unload(),console.log("Chat room was closed: "+n.path)}}),[n.path,o]),(0,r.jsx)("div",{ref:t,className:i.Z.chatRoom})}},1374:function(n,t,o){o.d(t,{Z:function(){return u}});o(2791);var e=o(7689),a="MenuButton_menuButton__e9oFw",c="MenuButton_left__d8Tih",i="MenuButton_right__fbjxn",r=o(184);var u=function(n){var t=n.position,o=void 0===t?"left":t,u=(0,e.s0)(),s="right"===o?i:c;return(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"".concat(a," ").concat(s),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),u("/iotum-samples/menu")},children:"Menu Page"})})}},9210:function(n,t,o){o.r(t),o.d(t,{default:function(){return v}});var e=o(1413),a=o(9439),c=o(2791),i=o(9434),r=o(1891),u=o(27),s=o(5177),l=o(1374),m=o(184),h=function(n){var t=n.rooms,o=n.onRoomButtonClick,e=n.onRoomClose;return(0,m.jsxs)("div",{className:u.Z.container,children:[(0,m.jsx)("div",{className:u.Z.roomListContainer,children:t.map((function(n){return(0,m.jsx)("div",{className:u.Z.chatRoomItem,children:(0,m.jsx)("button",{onClick:function(){return o(n.path)},className:n.bool?u.Z.active:"",children:n.name})},n.path)}))}),(0,m.jsxs)("div",{className:u.Z.chatRoomsContainer,children:[t.map((function(n){return n.bool&&(0,m.jsxs)("div",{className:"".concat(u.Z.chatRoom," ").concat(u.Z.activeRoom),children:[(0,m.jsx)(r.Z,{path:n.path}),(0,m.jsx)("button",{className:u.Z.closeButton,onClick:function(){return e(n.path)},children:"x"})]},n.path)})),(0,m.jsx)(s.Z,{position:"right"}),(0,m.jsx)(l.Z,{position:"right"})]})]})},d=o(9074),f=o(1348),v=function(){(0,f.Z)();var n=(0,c.useState)([]),t=(0,a.Z)(n,2),o=t[0],r=t[1],u=(0,i.v9)((function(n){return n.credentials})),s=function(n,t){r((function(o){return o.map((function(o){return o.path===n?(0,e.Z)((0,e.Z)({},o),{},{bool:t}):o}))}))};return(0,c.useEffect)((function(){if(u&&u.token&&u.domain&&u.hostId){var n=function(n){var t=n.domain,o=n.token,e=n.hostId,a=new d.Dashboard({domain:t,sso:{token:o,hostId:e},container:"#chat"},"Team",{layout:"list",pathname:"/"});return a.once("dashboard.ROOM_LIST",(function(n){var t,o=[],e=Object.values(n.rooms).map((function(n){var t=n.accounts.map((function(n){return n.name}));if(1===t.length){var e="".concat(t[0]," (you)");return o.push(t[0]),{name:e,path:n.path,bool:!1}}return{name:t.filter((function(n){return!o.includes(n)})).join(", "),path:n.path,bool:!1}}));r(e),null===(t=document.querySelector("#loading"))||void 0===t||t.remove()})),a}(u);return setTimeout((function(){return n.toggle(!1)})),function(){n.unload()}}}),[u]),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{id:"room-buttons",children:(0,m.jsx)(h,{rooms:o,onRoomButtonClick:function(n){return s(n,!0)},onRoomClose:function(n){return s(n,!1)}})}),(0,m.jsx)("div",{id:"chat",children:(0,m.jsx)("div",{id:"loading",children:"Loading..."})})]})}},27:function(n,t){t.Z={container:"chat_container__tPqzb",roomListContainer:"chat_roomListContainer__hpRp3",chatRoomItem:"chat_chatRoomItem__tdDrk",active:"chat_active__YaH2-",chatRoomsContainer:"chat_chatRoomsContainer__Smrg+",chatRoom:"chat_chatRoom__Oon7U",activeRoom:"chat_activeRoom__fmDik",closeButton:"chat_closeButton__v7qtp"}}}]);
//# sourceMappingURL=210.70edd167.chunk.js.map