"use strict";(self.webpackChunkiotum_samples=self.webpackChunkiotum_samples||[]).push([[197],{1374:function(e,n,t){t.d(n,{Z:function(){return a}});t(2791);var o=t(7689),r="MenuButton_menuButton__e9oFw",i="MenuButton_left__d8Tih",u="MenuButton_right__fbjxn",c=t(184);var a=function(e){var n=e.position,t=void 0===n?"left":n,a=(0,o.s0)(),s="right"===t?u:i;return(0,c.jsx)("div",{children:(0,c.jsx)("button",{className:"".concat(r," ").concat(s),onClick:function(){console.log("Menu Button Clicked, Go To the Menu Page."),a("/iotum-samples/menu")},children:"Menu Page"})})}},4197:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var o=t(9439),r=t(2791),i="submitForm_appContainer__B1dgt",u="submitForm_verticalTabContainer__riwi2",c="submitForm_widgetContainer__Vm7kt",a="submitForm_badge__llHLA",s=t(5177),l=t(1374),d=t(9074),f=t(9434),h=t(1348),g=t(184),m=(0,r.forwardRef)((function(e,n){return(0,g.jsx)("div",{ref:n,className:c})})),v=function(){(0,h.Z)();var e=(0,r.useState)(!0),n=(0,o.Z)(e,2),t=n[0],c=n[1],v=(0,r.useState)(0),b=(0,o.Z)(v,2),p=b[0],_=b[1],j=(0,r.useState)(!1),x=(0,o.Z)(j,2),k=x[0],C=x[1],S=(0,r.useState)(!1),w=(0,o.Z)(S,2),T=w[0],M=w[1],N=(0,r.useRef)(),A=(0,r.useRef)(),E=(0,r.useRef)(),Z=(0,f.v9)((function(e){return e.credentials})),y=(0,r.useCallback)((function(e,n){var t=n.domain,o=n.token,r=n.hostId;console.log("Widget loading"),E.current=new d.Dashboard({domain:t,sso:{token:o,hostId:r},container:e}),E.current.toggle(!1),E.current.on("dashboard.READY",(function(){A.current=new d.Dashboard({domain:t,container:e},d.Service.Team),A.current.toggle(!1),A.current.on("dashboard.UNREAD_MESSAGES",(function(e){var n=Object.values(e.rooms).reduce((function(e,n){return e+n}),0);_(n)})),A.current.on("dashboard.READY",(function(){M(!0),C(!0)}))}))}),[]);(0,r.useEffect)((function(){if(Z.token&&Z.domain&&Z.hostId&&N.current)return y(N.current,Z),function(){var e,n;null===(e=E.current)||void 0===e||e.unload(),null===(n=A.current)||void 0===n||n.unload(),console.log("Widget unloaded")}}),[Z,y]),(0,r.useEffect)((function(){k&&A.current.on("dashboard.NAVIGATE",(function(e){var n="/"!==e.pathname?e.pathname:"an unspecified room";console.log("The chat widget navigated to this room: ".concat(n))}))}),[k]);var D=function(e){var n,t;null===(n=E.current)||void 0===n||n.toggle(!1),null===(t=A.current)||void 0===t||t.toggle(!1),e===d.Service.None?(c(!0),console.log("Load your app")):e===d.Service.Team?(A.current.toggle(!0),c(!1),console.log("Load the team chat widget")):(E.current.toggle(!0),E.current.load(e),c(!1),console.log("Load the ".concat(e," widget")))};return(0,g.jsxs)("div",{className:i,children:[(0,g.jsxs)("div",{className:u,children:[(0,g.jsx)("button",{type:"button",onClick:function(){return D(d.Service.None)},disabled:!T,children:"Your App"}),(0,g.jsxs)("button",{type:"button",onClick:function(){return D("Team")},disabled:!T,style:{position:"relative"},children:["Team Chat",p>0&&(0,g.jsx)("span",{className:a,children:p})]}),(0,g.jsx)("button",{type:"button",onClick:function(){return D(d.Service.Drive)},disabled:!T,children:"Drive"}),(0,g.jsx)("button",{type:"button",onClick:function(){return D(d.Service.Contacts)},disabled:!T,children:"Contacts"}),(0,g.jsx)("button",{type:"button",onClick:function(){return D(d.Service.Meet)},disabled:!T,children:"Meetings"})]}),t&&(0,g.jsx)("div",{children:"Your app goes here"}),!T&&(0,g.jsx)("div",{children:"The widgets are loading"}),(0,g.jsx)(s.Z,{position:"right"}),(0,g.jsx)(l.Z,{position:"right"}),(0,g.jsx)(m,{ref:N})]})}}}]);
//# sourceMappingURL=197.7bd522d7.chunk.js.map